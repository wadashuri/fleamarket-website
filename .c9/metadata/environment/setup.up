{"changed":true,"filter":false,"title":"setup.up","tooltip":"/setup.up","value":"#!/bin/bash\n \n# MariaDBのリポジトリを追加\nsudo bash -c 'cat << EOF > /etc/yum.repos.d/MariaDB.repo\n# MariaDB 10.3 CentOS repository list - created 2020-05-06 02:55 UTC\n# http://downloads.mariadb.org/mariadb/repositories/\n[mariadb]\nname = MariaDB\nbaseurl = http://yum.mariadb.org/10.3/centos6-amd64\ngpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\ngpgcheck=1\nEOF'\n \n# デーモンを止める。\nsudo service httpd stop\nsudo service mysql stop\n \n# yumのアップデート\nsudo yum -y update\n \n# 現在のファイルを削除\nsudo yum -y remove php*\nsudo yum -y remove httpd*\nsudo yum -y remove mysql*\nsudo yum clean all\n \n# パッケージのアップデート\nsudo yum -y upgrade\n \n# apache2.4, php7.3, apache2.4用のsslモジュール, MariaDBのインストール\nsudo yum -y install httpd24\nsudo yum -y install php73 php73-cli php73-common php73-devel php73-mysqlnd php73-pdo php73-xml php73-gd php73-intl php73-mbstring php73-opcache php73-xmlrpc\n \nsudo yum -y install mod24_ssl\nsudo yum install -y MariaDB-server MariaDB-client\n \n# 利用するphpのバージョンを7.3に切り替え\nsudo alternatives --set php /usr/bin/php-7.3\n \n# タイムゾーンの設定\nsudo sed -i -e '1s/^/#/' -e '2iZONE=\"Asia/Tokyo\"' /etc/sysconfig/clock\nsudo ln -sf /usr/share/zoneinfo/Japan /etc/localtime\n \n# PHPの設定ファイルを追加\nsudo echo \"date.timezone = Asia/Tokyo\" |sudo tee /etc/php.d/999-php-codecamp.ini\nsudo echo \"display_errors = On\" |sudo tee -a /etc/php.d/999-php-codecamp.ini\nsudo echo \"mbstring.internal_encoding = UTF-8\" |sudo tee -a /etc/php.d/\n \n# mariadbを起動\nsudo service mysql start\n \n# mariadb の自動起動\nsudo chkconfig mysql on","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":52,"column":23},"action":"insert","lines":["#!/bin/bash"," ","# MariaDBのリポジトリを追加","sudo bash -c 'cat << EOF > /etc/yum.repos.d/MariaDB.repo","# MariaDB 10.3 CentOS repository list - created 2020-05-06 02:55 UTC","# http://downloads.mariadb.org/mariadb/repositories/","[mariadb]","name = MariaDB","baseurl = http://yum.mariadb.org/10.3/centos6-amd64","gpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB","gpgcheck=1","EOF'"," ","# デーモンを止める。","sudo service httpd stop","sudo service mysql stop"," ","# yumのアップデート","sudo yum -y update"," ","# 現在のファイルを削除","sudo yum -y remove php*","sudo yum -y remove httpd*","sudo yum -y remove mysql*","sudo yum clean all"," ","# パッケージのアップデート","sudo yum -y upgrade"," ","# apache2.4, php7.3, apache2.4用のsslモジュール, MariaDBのインストール","sudo yum -y install httpd24","sudo yum -y install php73 php73-cli php73-common php73-devel php73-mysqlnd php73-pdo php73-xml php73-gd php73-intl php73-mbstring php73-opcache php73-xmlrpc"," ","sudo yum -y install mod24_ssl","sudo yum install -y MariaDB-server MariaDB-client"," ","# 利用するphpのバージョンを7.3に切り替え","sudo alternatives --set php /usr/bin/php-7.3"," ","# タイムゾーンの設定","sudo sed -i -e '1s/^/#/' -e '2iZONE=\"Asia/Tokyo\"' /etc/sysconfig/clock","sudo ln -sf /usr/share/zoneinfo/Japan /etc/localtime"," ","# PHPの設定ファイルを追加","sudo echo \"date.timezone = Asia/Tokyo\" |sudo tee /etc/php.d/999-php-codecamp.ini","sudo echo \"display_errors = On\" |sudo tee -a /etc/php.d/999-php-codecamp.ini","sudo echo \"mbstring.internal_encoding = UTF-8\" |sudo tee -a /etc/php.d/"," ","# mariadbを起動","sudo service mysql start"," ","# mariadb の自動起動","sudo chkconfig mysql on"],"id":1}]]},"ace":{"folds":[],"scrolltop":477,"scrollleft":0,"selection":{"start":{"row":28,"column":1},"end":{"row":28,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":24,"state":"start","mode":"ace/mode/text"}},"timestamp":1632733640932}